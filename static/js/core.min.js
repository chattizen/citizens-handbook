window.chattizen=window.chattizen||{};var chattizen=window.chattizen;Array.prototype.filter||(Array.prototype.filter=function(a){"use strict";if(void 0===this||null===this)throw new TypeError;var b=Object(this),c=b.length>>>0;if("function"!=typeof a)throw new TypeError;for(var d=[],e=arguments.length>=2?arguments[1]:void 0,f=0;c>f;f++)if(f in b){var g=b[f];a.call(e,g,f,b)&&d.push(g)}return d}),function(a,b){"use strict";function c(){var b=i.find(":header"),c=b.length,d=a('<nav id="toc" role="navigation" class="section" />'),e=a("<ul />").appendTo(d);if(b.length&&h.length)for(h.prepend(d),d.prepend('<p class="label">On this page</p>');c--;){var f=a(b[c]),g=j.li.clone(),k=j.a.clone();f.attr("id")||f.attr("id",chattizen.utils.slugify(f.text())),k.attr({title:f.text(),href:"#"+f.attr("id")}).text(f.text()),g.append(k).prependTo(e)}}var d=a("html"),e=a("#show-nav"),f=a(".map"),g=a("#corejs"),h=(a("#division"),a("#sb")),i=a("#main"),j={li:a("<li />"),a:a("<a />")};chattizen.apiKeys={google:g.data("google-api-key"),sunlight:g.data("sunlight-api-key")},chattizen.utils={slugify:function(a){return String(a).toLowerCase().replace(/ +/g,"-").replace(/[^\w-]+/g,"")}},e.on("click",function(){d.toggleClass("show-nav"),e.blur()}),b.load({test:f.length,yep:["/bower_components/leaflet/dist/leaflet.js","/bower_components/leaflet/dist/leaflet.css"],callback:{"leaflet.js":function(){f.each(function(){var b=a(this),c=window.L.map(b[0],{center:[35.0456,-85.267],zoom:11,zoomAnimation:!1,fadeAnimation:!1});window.L.tileLayer("http://{s}.tiles.mapbox.com/v3/dryan.ib14dmok/{z}/{x}/{y}.png").addTo(c),b.data("boundaries")?a.getJSON(b.data("boundaries")).done(function(a){var b=window.L.geoJson(window.topojson.mesh(a)).addTo(c);c.fitBounds(b.getBounds())}).fail(function(){b.remove()}):a.getJSON("http://nominatim.openstreetmap.org/search?json_callback=?",{street:b.data("street-address"),city:b.data("locality"),state:b.data("region"),postalcode:b.data("postal-code"),country:(b.data("country")||"US").toLowerCase(),email:"daniel@openchattanooga.com",format:"jsonv2"}).done(function(d){a.isArray(d)&&(d=d.shift()),d.lat&&d.lon?(c.setView([d.lat,d.lon],15),c.attributionControl.addAttribution(d.licence),window.L.marker([d.lat,d.lon],{clickable:!1,title:b.data("name")||""}).addTo(c)):b.remove()}).fail(function(){b.remove()})})}}}),c()}(window.jQuery,window.Modernizr);
//# sourceMappingURL=core.min.map